# Builder Pattern ì„¤ëª…
## Why
- ìƒì„±ìì— ë§ì€ ì¸ìê°€ ìˆëŠ” ê²½ìš°
- ê°ì²´ ìƒì„± ì‹œ ì„ íƒ ì¸ìê°€ ìˆëŠ” ê²½ìš°(ì—¬ëŸ¬ ìƒì„±ìë¥¼ ê°–ê²Œ ë¨)

ğŸ‘‰ ê° ì¸ìê°€ ì–´ë–¤ ê°’ì„ ë‚˜íƒ€ë‚´ëŠ”ì§€ ì–´ë ¤ì›Œ ê°€ë…ì„±ì´ ì•ˆì¢‹ì•„ì§
### Sol1. ì ì¸µì  ìƒì„±ì íŒ¨í„´
ì˜¤ë²„ë¡œë”©ì„ í†µí•´ ì—¬ëŸ¬ ìƒì„±ìë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•

ğŸ‘‰ ì—¬ì „íˆ ê° ì¸ìê°€ ì–´ë–¤ ê°’ì„ ë‚˜íƒ€ë‚´ëŠ”ì§€ ëª°ë¼ ê°€ë…ì„± ë©´ì—ì„œ ë‹¨ì ì´ ì¡´ì¬
### Sol2. ìë°”ë¹ˆ íŒ¨í„´
setter ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•(setter ë©”ì†Œë“œëŠ” thisë¥¼ ë¦¬í„´)

ğŸ‘‰ set**Name**() ê³¼ ê°™ì€ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ ê°€ë…ì„± ë¬¸ì œëŠ” í•´ê²°ë˜ì—ˆì§€ë§Œ ë™ì‹œì— í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ë¼ë©´?(ex. ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½) **ê°ì²´ì˜ ì¼ê´€ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ** ë˜, ê° ë©¤ë²„ë³€ìˆ˜ì™€ ê°ì²´ ìì²´ê°€ **immutableí•  ìˆ˜ ì—†ìŒ**
## How
ì ì¸µì  ìƒì„±ì íŒ¨í„´ì˜ ì¥ì ê³¼ ìë°”ë¹ˆ íŒ¨í„´ì˜ ì¥ì ì„ í•©ì³ë³´ì!
### íë¦„
1. í´ë¼ì´ì–¸íŠ¸ëŠ” **í•„ìˆ˜ ì¸ì**ë¥¼ ì „ë‹¬í•´ _**ë¹Œë”**_ ê°ì²´ ìƒì„±(ìƒì„±ì í˜¸ì¶œ)

2. ë¹Œë” ê°œì²´ì˜ **setter ë©”ì†Œë“œë¥¼ ì´ìš©í•´ ì„ íƒ ì¸ì** ì „ë‹¬

3. build() ë©”ì†Œë“œë¥¼ í†µí•´ ë¹Œë” ê°ì²´ ë‚´ë¶€ì—ì„œ Product ê°ì²´ë¥¼ ìƒì„±, return
### íš¨ê³¼
- 1, 2ë¡œ í•„ìˆ˜ ì¸ìì™€ ì„ íƒ ì¸ìë¥¼ êµ¬ë¶„í•´ ì„ íƒ ì¸ìëŠ” **ê°€ë…ì„±**ì´ ì¢‹ì€ ì½”ë“œë¡œ ë„˜ê¸¸ ìˆ˜ ìˆìŒ
- ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ê³¼ ê°ì²´ë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ë¶„ë¦¬í•´ ê°ì²´ ìƒì„±ì„ ìœ ì—°í•˜ê²Œ í•  ìˆ˜ ìˆìŒ
- Product ìì²´ì˜ ìƒì„±ì€ build() í•¨ìˆ˜ì—ì„œ í•œ ë²ˆì— ì§„í–‰ë˜ê¸° ë•Œë¬¸ì— **atomicity, thread-safety** ë³´ì¥
## What
ì´ì™€ ê°™ì´ ë™ì‘í•˜ëŠ” Builder Patternì´ë€,
> ë³µì¡í•œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ì‹ / ê°ì²´ë¥¼ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ë¶„ë¦¬í•´ ë‹¤ì–‘í•œ ìƒì„± ì ˆì°¨ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ í‘œí˜„ ê²°ê³¼ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•˜ëŠ” íŒ¨í„´

ì¦‰, ë³µì¡í•œ ê°ì²´ì˜ **ë‹¨ê³„ì  ìƒì„±**ì— ì¤‘ì ì„ ë‘” íŒ¨í„´ì„
![](https://images.velog.io/images/cchloe2311/post/32f15f6e-177a-4be0-8e97-0bfc64c831e2/image.png)
### êµ¬í˜„
- Java
    - static nested classë¡œ Builder í´ë˜ìŠ¤ ì •ì˜
    - newInstance() ë§¤ê°œë³€ìˆ˜ë¡œ í•„ìˆ˜ ì¸ì ì „ë‹¬, setter ë©”ì„œë“œë¡œ ì„ íƒ ì¸ì ì „ë‹¬
    - Product(Employee) ê°ì²´ë¥¼ volatile í‚¤ì›Œë“œë¡œ ì„ ì–¸í•´ ê°€ì‹œì„± ë³´ì¥

- Kotlin
    - named argumentë¥¼ ì œê³µí•´ êµ³ì´ Builder í´ë˜ìŠ¤ë¥¼ êµ¬í˜„/ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë¨
    - Builder ê°ì²´ë¥¼ ì „ë‹¬ë°›ì•„ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” secondary constructor ì •ì˜
    - nested classë¡œ Builder í´ë˜ìŠ¤ êµ¬í˜„
    - í•„ìˆ˜ ì¸ìëŠ” Builder í´ë˜ìŠ¤ ìƒì„±ìë¥¼ í†µí•´ ì „ë‹¬, ì„ íƒ ì¸ìëŠ” build ë©”ì†Œë“œì˜ ë¸”ëŸ­ìœ¼ë¡œ ë„˜ê²¨ì¤Œ
    
### êµ¬í˜„ ê²°ê³¼
[BuilderPatterm - github.com/cchloe2311](https://github.com/cchloe2311/BuilderPattern)
- Java ê²°ê³¼í™”ë©´
![](https://images.velog.io/images/cchloe2311/post/df36c8c8-30ff-4af1-b881-c29afe02f32f/image.png)
- Kotlin ê²°ê³¼í™”ë©´
![](https://images.velog.io/images/cchloe2311/post/f3152171-ea57-41ed-8b41-d0db489ed36d/image.png)

ğŸ‘‰ **atomicity, thread-safety** ë³´ì¥ í™•ì¸!
# âœï¸ ref
https://www.geeksforgeeks.org/builder-pattern-in-java/

https://stackoverflow.com/questions/36140791/how-to-implement-builder-pattern-in-kotlin
